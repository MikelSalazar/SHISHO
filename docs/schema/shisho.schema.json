{
	"$schema": "http://json-schema.org/draft-07/schema",
	"$id": "shisho.schema.json",
	"$comment": "The JSON Schema of SHISHO system documents.",
	"$ref": "#/definitions/root",
	"definitions": {

		"root": {
			"properties": {
				"SHISHO": {
					"$comment": "The SHISHO system version.",
					"type": "string",
					"default": "0.4"
				},
				"name": { 
					"$comment": "The name/title of the SHISHO document.",
					"type": "string"
				},
				"description": { 
					"$comment": "The description of the SHISHO document.",
					"type": "string"
				},
				"author": { 
					"$comment": "The author(s) of the SHISHO document.",
					"type": "string"
				},
				"ontology": {
					"$comment": "The ontology data.",
					"$ref": "#/definitions/ontology"
				},
				"styles": {
					"$comment": "The visual styles.",
					"$ref": "#/definitions/style"
				}
			},
			"required": ["SHISHO", "name"]
		},

		"ontology": {
			"$comment": "Defines an Ontology (see: https://en.wikipedia.org/wiki/Ontology_(information_science)).",
			"properties": {
				"classes": {
					"$comment": "The classes of the ontology.",
					"type": "array",
					"allOf": [{"$ref": "#/definitions/class"}]
				},
				"relations": {
					"$comment": "The relations between classes.",
					"type": "array",
					"allOf": [{"$ref": "#/definitions/relation"}]
				}
			}
		},

		"class": {
			"$comment": "Defines a Class of an Ontology.",
			"properties": {
				"name": { 
					"$comment": "The name of the class.",
					"type": "string"
				},
				"description": { 
					"$comment": "The description of the class.",
					"type": "string"
				},
				"properties": {
					"type": "array",
					"$comment": "The properties (members) of the class.",
					"allOf": [{"$ref": "#/definitions/property"}]
				},
				"positions": {
					"type": "array",
					"$comment": "The positions of the class in each graph view.",
					"allOf": [{"$ref": "#/definitions/vector"}]
				}
			}
		},

		
		"property": {
			"$comment": "Defines a Property (member) of a Class.",
			"properties": {
				"name": { 
					"$comment": "The name of the Property.",
					"type": "string"
				},
				"description": { 
					"$comment": "The description of the Property.",
					"type": "string"
				},
				"type": { 
					"$comment": "The type of the Property.",
					"type": "string"
				},
				"default": { 
					"$comment": "The default value the Property."
				},
				"visibility": { 
					"$comment": "The visibility of the Property.",
					"type": "string",
					"enum": ["public", "private", "protected"],
					"default": "public"
				},
				"abstract": { 
					"$comment": "Indicates whether the Property is abstract or not.",
					"type": "boolean",
					"default": false
				},
				"static": { 
					"$comment": "Indicates whether the Property is static or not.",
					"type": "boolean",
					"default": false
				}
			}
		},

		"relation": {
			"$comment": "Defines a Relation between two Classes.",
			"properties": {
				"name": { 
					"$comment": "The name of the Relation",
					"type": "string"
				},
				"description": { 
					"$comment": "The description of the Relation",
					"type": "string"
				},
				"origin": { 
					"$comment": "The origin class of the Relation",
					"type": "string"
				},
				"target": { 
					"$comment": "The target class of the Relation",
					"type": "string"
				}
			}
		},


		"style": {
			"$comment": "Defines a visual Style.",
			"properties": {
				"name": { 
					"$comment": "The name of the Style.",
					"type": "string"
				},
				"parent": { 
					"$comment": "The name of the parent Style.",
					"type": "string"
				}

			}
		},

		"measure" : {
			"$comment": "Defines a length (position/size) Measure.",
			"type": [ "object", "string"],
			"properties": {
				"value": {
					"$comment": "The value of the Measure.",
					"type": "number"
				},
				"unit": {
					"$comment": "The value of the Measure.",
					"type": "string",
					"enum": ["px", "%", "vw", "vh", "vmin", "vmax"]
				}
			}
		},

		"color": {
			"$comment": "Defines a Color.",
			"type": [ "object", "string"],
			"properties": {
				"r": {
					"$comment": "The red component of the Color.",
					"type": "number",
					"default": 0
				},
				"g": {
					"$comment": "The green component of the Color.",
					"type": "number",
					"default": 0
				},
				"b": {
					"$comment": "The blue component of the Color.",
					"type": "number",
					"default": 0
				}
			}		
		},

		"vector" : {
			"$comment": "Defines a bi-dimensional vector.",
			"properties": {
				"x": { 
					"$comment": "The value of the vector in the X axis.",
					"type": "number"
				},
				"y": {
					"$comment": "The value of the vector in the X axis.",
					"type": "number"
				}
			}
		}
	}
}
